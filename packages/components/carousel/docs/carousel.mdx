---
head:
  - tag: title
    content: Carousel - Destyler UI
title: Carousel
---

import Features from '/components/Features.astro'
import PreviewCode from '/components/PreviewCode.astro'
import FrameworkLayout from '/components/FrameworkLayout.astro'
import InstallShell from '/components/InstallShell.astro'

> an accessible carousel component that leverages native CSS Scroll Snap for smooth, 
> performant scrolling between slides.

<PreviewCode name="carousel"></PreviewCode>

## Features

<Features lists={[
  'Uses native CSS Scroll Snap.',
  'Supports horizontal and vertical orientations.',
  'Supports alignment of slides (start, center or end alignment).',
  'Show multiple slides at a time.',
  'Supports looping and auto-playing.',
  'Supports custom spacing between slides.',
]}>
</Features>

## Install

Install the component from your command line.

<InstallShell name="carousel" />


## Anatomy

Import all parts and piece them together.

<FrameworkLayout>

  <div slot='vue'>

  ```vue
  <script setup lang="ts">
  import * as carousel from '@destyler/carousel'
  import { normalizeProps, useMachine } from '@destyler/vue'
  import { computed, useId } from 'vue'


  const [state, send] = useMachine(
    carousel.machine({
      id: useId(),
    }))

  const api = computed(() =>
    carousel.connect(state.value, send, normalizeProps),
  )
  </script>

  <template>
    <div v-bind="api.getRootProps()">
      <div v-bind="api.getItemGroupProps()">
        <div v-bind="api.getItemProps({ index:0 })">
          <img>
        </div>
      </div>

      <div v-bind="api.getControlProps()">
        <button v-bind="api.getPrevTriggerProps()"/>
        <div v-bind="api.getIndicatorGroupProps()">
          <button v-bind="api.getIndicatorProps({ index: 0 })" />
        </div>
        <button v-bind="api.getNextTriggerProps()"/>
      </div>
    </div>
  </template>
  ```

  </div>
  <div slot='react'>

  ```tsx
  import * as carousel from '@destyler/carousel'
  import { normalizeProps, useMachine } from '@destyler/react'
  import { useId } from 'react'

  export default function Carousel() {

    const [state, send] = useMachine(
      carousel.machine({
        id: useId(),
      })
    )

    const api = carousel.connect(state, send, normalizeProps)

    return (
      <>
        <div {...api.getRootProps()}>
          <div {...api.getItemGroupProps()}>
            <div {...api.getItemProps({ index: 0 })}>
              <img />
            </div>
          </div>
          <div {...api.getControlProps()}>
            <button {...api.getPrevTriggerProps()} />
            <div {...api.getIndicatorGroupProps()}>
              <button {...api.getIndicatorProps({ index: 0 })}/>
            </div>
            <button {...api.getNextTriggerProps()}/>
          </div>
        </div>
      </>
    )
  }
  ```

  </div>
  <div slot='svelte'>

  ```svelte
  <script lang="ts">
    import * as carousel from '@destyler/carousel'
    import { normalizeProps, useMachine } from '@destyler/svelte'

    const uid = $props.id();

    const [state, send] = useMachine(
      carousel.machine({
        id: uid,
      }),
    )

    const api = $derived(carousel.connect(state, send, normalizeProps))
  </script>

  <div {...api.getRootProps()}>
    <div {...api.getItemGroupProps()}>
      <div {...api.getItemProps({ index: 0 })}>
        <img />
      </div>
    </div>

    <div {...api.getControlProps()}>
      <button {...api.getPrevTriggerProps()}>
      </button>
      <div {...api.getIndicatorGroupProps()}>
        <button {...api.getIndicatorProps({ index: 0 })}></button>
      </div>
      <button {...api.getNextTriggerProps()}></button>
    </div>
  </div>
  ```

  </div>
  <div slot='solid'>

  ```tsx
  import type { Component } from 'solid-js'
  import * as carousel from '@destyler/carousel'
  import { normalizeProps, useMachine } from '@destyler/solid'
  import { createMemo, createUniqueId } from 'solid-js'

  const Carousel: Component = () => {

    const [state, send] = useMachine(
      carousel.machine({
        id: createUniqueId(),
      }))

    const api = createMemo(() => carousel.connect(state, send, normalizeProps))

    return (
      <>
        <div {...api().getRootProps()}>
          <div {...api().getItemGroupProps()}>
            <div {...api().getItemProps({ index: 0 })}>
              <img />
            </div>
          </div>
          <div {...api().getControlProps()}>
            <button {...api().getPrevTriggerProps()} />
            <div {...api().getIndicatorGroupProps()}>
              <button {...api().getIndicatorProps({ index: 0 })}/>
            </div>
            <button {...api().getNextTriggerProps()} />
          </div>
        </div>
      </>
    )
  }

  export default Carousel
  ```

  </div>

</FrameworkLayout>

## Vertical carousel

To create a vertical carousel, set the `orientation` property in the machine's context to `vertical`.

```ts
const [state, send] = useMachine(
  carousel.machine({
    orientation: "vertical",
  }),
)
```

## Setting the initial slide

To set the initial slide of the carousel, pass the `page` property to the machine's context.

The `page` corresponds to the scroll snap position index based on the layout. 
It does not necessarily correspond to the index of the slide in the carousel.

```ts
const [state, send] = useMachine(
  carousel.machine({
    page: 2,
  }),
)
```

## Setting the number of slides to show at a time

To customize number of slides to show at a time, 
set the `slidesPerPage` property in the machine's context. The value must be an integer.

```ts
const [state, send] = useMachine(
  carousel.machine({
    slidesPerPage: 2,
  }),
)
```

## Setting the number of slides to move at a time

To customize number of slides to move at a time, 
set the `slidesPerMove` property in the machine's context. 
The value must be an integer or `auto`.

:::note
If the value is `auto`, 
the carousel will move the number of slides equal to the number of slides per page.
:::

```ts
const [state, send] = useMachine(
  carousel.machine({
    slidesPerMove: 2,
  }),
)
```

:::note
Ensure the `slidesPerMove` is less than or equal to the `slidesPerPage` to avoid skipping slides.
:::

## Setting the carousel should loop around

To allow looping of slides, set the `loop` property in the machine's context to `true`.

```ts
const [state, send] = useMachine(
  carousel.machine({
    loop: true,
  }),
)
```

## Setting the gap between slides

To customize spacing between slides, 
set the `spacing` property in the machine's context to a valid CSS unit.

```ts
const [state, send] = useMachine(
  carousel.machine({
    spacing: "20px",
  }),
)
```

## Listening for page changes

When the carousel page changes, the `onPageChange` callback is invoked.

```ts
const [state, send] = useMachine(
  carousel.machine({
    onPageChange(details) {
      // details => { page: number }
      console.log("selected page:", details.page)
    },
  }),
)
```

## Dragging the carousel

To allow dragging the carousel with the mouse, 
set the `allowMouseDrag` property in the machine's context to `true`.

```ts
const [state, send] = useMachine(
  carousel.machine({
    allowMouseDrag: true,
  }),
)
```

## Autoplaying the carousel

To allow the carousel to autoplay, set the `autoplay` property in the machine's context to `true`.

```ts
const [state, send] = useMachine(
  carousel.machine({
    autoplay: true,
  }),
)
```

Alternatively, 
you can configure the autoplay interval by setting the `delay` property in the machine's context.

```ts
const [state, send] = useMachine(
  carousel.machine({
    autoplay: { delay: 2000 },
  }),
)
```

## Styling guide

Earlier, we mentioned that each carousel part has a `data-part` attribute added 
to them to select and style them in the DOM.

```css
[data-part="root"] {
  /* styles for the root part */
}

[data-part="item-group"] {
  /* styles for the item-group part */
}

[data-part="item"] {
  /* styles for the root part */
}

[data-part="control"] {
  /* styles for the control part */
}

[data-part="next-trigger"] {
  /* styles for the next-trigger part */
}

[data-part="prev-trigger"] {
  /* styles for the prev-trigger part */
}

[data-part="indicator-group"] {
  /* styles for the indicator-group part */
}

[data-part="indicator"] {
  /* styles for the indicator part */
}

[data-part="autoplay-trigger"] {
  /* styles for the autoplay-trigger part */
}
```

### Active state

When a carousel's indicator is active, a `data-current` attribute is set on the indicator.

```css
[data-part="indicator"][data-current] {
  /* styles for the indicator's active state */
}
```

import MachineTable from '/components/props/Machine.astro'
import APITable from '/components/props/Api.astro'
import StyleTable from '/components/props/Style.astro'
import KeyboardTable from '/components/props/Keyboard.astro'

## Methods and Properties

### Machine Context

The carousel machine exposes the following context properties:

<MachineTable name="carousel"></MachineTable>

### Machine API

The carousel `api` exposes the following methods:

<APITable name="carousel"></APITable>

### Data Attributes

#### Root

<StyleTable component="carousel" nodeType="root" />

#### ItemGroup

<StyleTable component="carousel" nodeType="itemGroup" />

#### Item

<StyleTable component="carousel" nodeType="item" />

#### Control

<StyleTable component="carousel" nodeType="control" />

#### PrevTrigger

<StyleTable component="carousel" nodeType="prevTrigger" />

#### NextTrigger

<StyleTable component="carousel" nodeType="nextTrigger" />

#### IndicatorGroup

<StyleTable component="carousel" nodeType="indicatorGroup" />

#### Indicator

<StyleTable component="carousel" nodeType="indicator" />

#### AutoplayTrigger

<StyleTable component="carousel" nodeType="autoplayTrigger" />
