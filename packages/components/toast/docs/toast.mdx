---
head:
  - tag: title
    content: Toast - Destyler UI
title: Toast
---

import Features from '@docs/components/Features.astro'
import FrameworkLayout from '@docs/components/FrameworkLayout.astro'
import InstallShell from '@docs/components/InstallShell.astro'
import PreviewCode from '@docs/components/PreviewCode.astro'

> The toast component is used to give feedback to users
> after an action has taken place.

<PreviewCode name="toast"></PreviewCode>

## Features

<Features lists={[
  'Support for screen readers.',
  'Limit the number of visible toasts.',
  'Manage promises within toast.',
  'Pause on hover, focus or page idle.',
  'Can remove or update toast programmatically.',
]}>
</Features>

## Install

Install the component from your command line.

<InstallShell name="toast" />

## Anatomy

Import all parts and piece them together.

<FrameworkLayout>

  <div slot='vue'>

  ```vue
  <script setup lang="ts">
  import { normalizeProps, useMachine } from '@destyler/vue'
  import { computed, useId } from 'vue'
  import * as toast from '@destyler/toast'

  const [groupState, groupSend] = useMachine(
    toast.group.machine({
      id: useId(),
    }),
  )

  const groupApi = computed(() => toast.group.connect(groupState.value as any, groupSend, normalizeProps))

  const [state, send] = useActor(placement)

  const api = computed(() => toast.connect(state.value, send, normalizeProps))
  </script>

  <template>
    <Teleport to="body">
      <div v-for="placement in groupApi.getPlacements()" :key="placement" v-bind="groupApi.getGroupProps({ placement })">
        <div v-bind="api.getRootProps()">
          <div v-bind="api.getGhostBeforeProps()" />
          <p v-bind="api.getTitleProps()">
            {{ api.title }}
          </p>
          <p v-bind="api.getDescriptionProps()">
            {{ api.description }}
          </p>
          <button v-bind="api.getCloseTriggerProps()" />
          <div v-bind="api.getGhostAfterProps()" />
        </div>
      </div>
    </Teleport>
  </template>
  ```

  </div>
  <div slot='react'>

  ```tsx
  import { normalizeProps, Portal, useMachine } from '@destyler/react'
  import * as toast from '@destyler/toast'
  import { useId } from 'react'

  export default function Toast() {
    const [groupState, groupSend] = useMachine(
      toast.group.machine({
        id: useId(),
      }),
    )

    const groupApi = toast.group.connect(groupState as any, groupSend, normalizeProps)

    const [state, send] = useActor(toast)

    const api = computed(() => toast.connect(state.value, send, normalizeProps))

    return (
      <Portal>
        {groupApi.getPlacements().map(placement => (
          <div data-layout="sinppets" key={placement} {...groupApi.getGroupProps({ placement })}>
            {groupApi.getToastsByPlacement(placement).map(toast => (
              <div {...api.getRootProps()}>
                <div {...api.getGhostBeforeProps()}></div>
                <p {...api.getTitleProps()}>
                  {api.title}
                </p>
                <p {...api.getDescriptionProps()}>
                  {api.description}
                </p>
                <button {...api.getCloseTriggerProps()} />
                <div {...api.getGhostAfterProps()} />
              </div>
            ))}
          </div>
        ))}
      </Portal>
    )
  }

  ```

  </div>
  <div slot='svelte'>

  ```svelte
  <script lang="ts">
    import * as toast from '@destyler/toast'
    import {normalizeProps, useMachine, portal} from '@destyler/svelte'
    import ToastItem from './Item.svelte';
    import './style.css'


    const id = $props.id()

    const [groupState, groupSend] = useMachine(
      toast.group.machine({
        id: id,
        placement: 'bottom-end',
        overlap: true,
        removeDelay: 200,
      }),
    )

    const groupApi = $derived(toast.group.connect(groupState as any, groupSend, normalizeProps))

    const [state, send] = useActor(placement)

    const api = computed(() => toast.connect(state.value, send, normalizeProps))

  </script>

  <div use:portal>
    {#each groupApi.getPlacements() as placement}
      <div key={placement} data-layout="sinppets" {...groupApi.getGroupProps({ placement })}>
        {#each groupApi.getToastsByPlacement(placement) as toast (toast.id)}
          <div {...api.getRootProps()}>
            <div {...api.getGhostBeforeProps()}></div>
            <p {...api.getTitleProps()}>{api.title}</p>
            <p {...api.getDescriptionProps()}>{api.description}</p>
            <button {...api.getCloseTriggerProps()} />
            <div {...api.getGhostAfterProps()}></div>
          </div>
        {/each}
      </div>
    {/each}
  </div>
  ```

  </div>
  <div slot='solid'>

  ```tsx
  import { normalizeProps, useMachine } from '@destyler/solid'
  import * as toast from '@destyler/toast'
  import { createMemo, createUniqueId, For } from 'solid-js'
  import { Portal } from 'solid-js/web'

  export default function Toast() {
    const [groupState, groupSend] = useMachine(
      toast.group.machine({
        id: createUniqueId(),
      }),
    )

    const groupApi = createMemo(() => toast.group.connect(groupState as any, groupSend, normalizeProps))

    const [state, send] = useActor(placement)

    const api = computed(() => toast.connect(state.value, send, normalizeProps))

    return (
      <Portal>
        <For each={groupApi().getPlacements()}>
          {placement => (
            <div {...groupApi().getGroupProps({ placement })}>
              <For each={groupApi().getToastsByPlacement(placement)}>
                {toast => (
                  <div {...api().getRootProps()}>
                    <div {...api().getGhostBeforeProps()}></div>
                    <p {...api().getTitleProps()}>
                      {api().title}
                    </p>
                    <p {...api().getDescriptionProps()}>
                      {api().description}
                    </p>
                    <button {...api().getCloseTriggerProps()}>
                      <div class="i-ph-x-bold"></div>
                    </button>
                    <div {...api().getGhostAfterProps()} />
                  </div>
                )}
              </For>
            </div>
          )}
        </For>
      </Portal>
    )
  }
  ```

  </div>

</FrameworkLayout>

## Usage

### Toast Group

- `toast.group.machine`

The state machine representation of a group of toasts. It is responsible for spawning, updating and removing toasts.

- `toast.group.connect`

function gives you access to methods you can use to add, update, and remove a toast.

### Toast Item

- `toast.machine`

The state machine representation of a single toast.

- `toast.connect`

The function that takes the toast machine and returns methods and JSX properties.

## Creating a toast

There are five toast types that can be created with the toast machine. `info`, `success`, `loading`, `custom` and `error`.

To create a toast, use the `toast.create(...)` method.

```ts
toast.create({
  title: "Hello World",
  description: "This is a toast",
  type: "info",
})
```

The options you can pass in are:

**title**

`string`

The title of the toast

**description**

`string`

The description of the toast

**type**

`string | "success" | "error" | "loading" | "info"`

The type of the toast. Can be either error, success , info, loading

**duration**

`number`

The duration of the toast. The default duration is computed based on the specified type.

**onStatusChange**

`(details: StatusChangeDetails) => void`

A callback that listens for the status changes across the toast lifecycle.

**placement**

`"top-start" | "top" | "top-end" | "bottom-start" | "bottom" | "bottom-end"`

The placement of the toast.

**removeDelay**

`number`

The delay before unmounting the toast from the DOM. Useful for transition

## Changing the placement

Use the `placement` property when you call the `toast.create(...)` to change the position of the toast.

```ts
toast.info({
  title: "Hello World",
  description: "This is a toast",
  placement: "top-start",
})
```

## Overlapping toasts

When multiple toasts are created, they are rendered in a stack.
To make the toasts overlap, set the `overlap` property to `true`.

```ts
const [state, send] = useMachine(
  toast.group.machine({
    overlap: true,
  }),
)
```

When using overlap, the toast's placement must match the `placement` of the toast group (which is `bottom` by default).

::: tip
Be sure to set up the [required styles]() to make the toasts overlap correctly.
:::

## Changing the duration

Every toast has a default visible duration depending on the `type` set.
Here's the following toast types and matching default durations:

- `info` - 5000ms
- `success` - 5000ms
- `error` - 2000ms
- `loading` - indefinite (until updated)

You can override the duration of the toast by passing the `duration` property to the `toast.create(...)` function.

```ts
toast.create({
  title: "Hello World",
  description: "This is a toast",
  type: "info",
  duration: 6000,
})
```

:::tip
You can also use the `toast.upsert(...)` function which creates or updates a toast.
:::

## Programmatic control

To update a toast programmatically, you need access to the unique identifier of the toast.

This identifier can be either:
