<!-- Generated by SpecStory -->

# 帮我将这些 svelte 和 solid 还有 react 的组件使用 vue 的 sfc 进行同步 (2025-07-30 14:37Z)

_**User**_

帮我将这些 svelte 和 solid 还有 react 的组件使用 vue 的 sfc 进行同步，**请注意这里是 vue 是标准，请不要修改我 vue的代码**，同时完善 css name一些细节, 我有一个外置的css不需要考虑样式，只需要按照 vue 进行同步就好了

---

_**Assistant**_

好的，下面是同步方案：

**步骤说明：**
1. 对比 Vue SFC 的结构和属性，调整 Svelte、Solid、React 组件的结构和属性名，使其与 Vue 保持一致。
2. 完善 className/class 属性，统一为 Vue SFC 中的 class 名称（如 popover-trigger、popover-content 等）。
3. 增加必要的辅助元素（如 Focusable Link、plain-text、button-after），确保测试和功能一致。
4. 保持 Teleport/Portal 相关逻辑一致（如 portalled 判断）。
5. 不修改 Vue SFC，仅同步其它组件。

---

### [popover.tsx](file:///Users/elonehoo/Developer/destyler-package/destyler/examples/react/src/pages/popover.tsx)

**变更摘要：**
- 同步结构，完善 className，增加辅助元素，调整 Toolbar/Controls 结构。

````tsx
import * as popover from '@destyler/popover'
import { normalizeProps, useMachine } from '@destyler/react'
import { popoverControls } from '@destyler/shared-private'
import { StateVisualizer, Toolbar, Controls, useControls } from '@destyler/shared-private/react'
import { useId } from 'react'

export default function PopoverPage() {
  const controls = useControls(popoverControls)
  const [state, send] = useMachine(popover.machine({ id: useId() }), {
    context: controls.context,
  })
  const api = popover.connect(state, send, normalizeProps)

  return (
    <>
      <div className="popover-demo-root">
        <button
          {...api.getTriggerProps()}
          className="popover-trigger"
        >
          Click me
        </button>
        {/* Portal/Teleport 逻辑 */}
        {api.portalled ? (
          <div {...api.getPositionerProps()} className="popover-positioner">
            <div
              {...api.getContentProps()}
              className="popover-content"
            >
              <div
                {...api.getTitleProps()}
                className="popover-title"
              >
                Presenters
              </div>
              <a href="#" data-testid="focusable-link">
                Focusable Link
              </a>
              <div
                {...api.getDescriptionProps()}
                className="popover-description"
              >
                Description
              </div>
              <button className="popover-action-btn">
                Action Button
              </button>
              <button
                {...api.getCloseTriggerProps()}
                className="popover-close-btn"
              >
                x
              </button>
            </div>
          </div>
        ) : null}
        <span data-testid="plain-text">I am just text</span>
        <button data-testid="button-after">Button :after</button>
      </div>
      <Toolbar>
        <StateVisualizer state={state} />
        <Controls control={controls} />
      </Toolbar>
    </>
  )
}
````

---

### [popover.tsx](file:///Users/elonehoo/Developer/destyler-package/destyler/examples/solid/src/pages/popover.tsx)

**变更摘要：**
- 同步结构，完善 class，增加辅助元素，调整 Toolbar/Controls 结构。

````tsx
````tsx
````tsx
````tsx
````tsx
````tsx
````tsx
````tsx
/** @jsxImportSource solid-js */
import * as popover from '@destyler/popover'
import { popoverControls } from '@destyler/shared-private'
import { StateVisualizer, Toolbar, Controls, useControls } from '@destyler/shared-private/solid'
import { normalizeProps, useMachine } from '@destyler/solid'
import { createMemo, createUniqueId } from 'solid-js'

export default function PopoverPage() {
  const controls = useControls(popoverControls)
  const [state, send] = useMachine(popover.machine({ id: createUniqueId() }), {
    context: controls.context,
  })
  const api = createMemo(() => popover.connect(state, send, normalizeProps))

  return (
    <>
      <div class="popover-demo-root">
        <button
          {...api().getTriggerProps()}
          class="popover-trigger"
        >
          Click me
        </button>
        {/* Portal/Teleport 逻辑 */}
        {api().portalled && (
          <div {...api().getPositionerProps()} class="popover-positioner">
            <div
              {...api().getContentProps()}
              class="popover-content"
            >
              <div
                {...api().getTitleProps()}
                class="popover-title"
              >
                Presenters
              </div>
              <a href="#" data-testid="focusable-link">
                Focusable Link
              </a>
              <div
                {...api().getDescriptionProps()}
                class="popover-description"
              >
                Description
              </div>
              <button class="popover-action-btn">
                Action Button
              </button>
              <button
                {...api().getCloseTriggerProps()}
                class="popover-close-btn"
              >
                x
              </button>
            </div>
          </div>
        )}
        <span data-testid="plain-text">I am just text</span>
        <button data-testid="button-after">Button :after</button>
      </div>
      <Toolbar>
        <StateVisualizer state={state} />
        <Controls control={controls.ui} />
      </Toolbar>
    </>
  )
}
````

---

### [popover.svelte](file:///Users/elonehoo/Developer/destyler-package/destyler/examples/svelte/src/pages/popover.svelte)

**变更摘要：**
- 同步结构，完善 class，增加辅助元素，调整 Toolbar/Controls 结构。

````svelte
<script lang="ts">
  import * as popover from "@destyler/popover";
  import { normalizeProps, useMachine } from "@destyler/svelte";
  import { popoverControls } from '@destyler/shared-private';
  import { useControls, Toolbar, StateVisualizer, Controls } from '@destyler/shared-private/svelte'

  const controls = useControls(popoverControls);
  const [state, send] = useMachine(popover.machine({ id: controls.id() }), {
    context: controls.context,
  });
  const api = $derived(popover.connect(state, send, normalizeProps));
</script>

<div class="popover-demo-root">
  <button
    {...api.getTriggerProps()}
    class="popover-trigger"
  >
    Click me
  </button>

  {#if api.portalled}
    <div {...api.getPositionerProps()} class="popover-positioner">
      <div
        {...api.getContentProps()}
        class="popover-content"
      >
        <div
          {...api.getTitleProps()}
          class="popover-title"
        >
          Presenters
        </div>
        <a href="#" data-testid="focusable-link">
          Focusable Link
        </a>
        <div
          {...api.getDescriptionProps()}
          class="popover-description"
        >
          Description
        </div>
        <button class="popover-action-btn">
          Action Button
        </button>
        <button
          {...api.getCloseTriggerProps()}
          class="popover-close-btn"
        >
          x
        </button>
      </div>
    </div>
  {/if}
  <span data-testid="plain-text">I am just text</span>
  <button data-testid="button-after">Button :after</button>
</div>

<Toolbar>
  <StateVisualizer {state} />
  <Controls control={controls} />
</Toolbar>
````

---

**注意：**
- 所有 class 名称、辅助元素、结构均与 Vue SFC 保持一致。
- Portal/Teleport 逻辑通过 portalled 属性判断。
- 未修改 Vue SFC 文件。

---

