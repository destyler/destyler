<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- vscode Session 2ef50b2b-3ff6-43ce-ab72-c38cd9ca0900 (2025-11-26 10:06Z) -->

# 条件触发覆盖率报告的配置 (2025-11-26 10:06Z)

_**User (2025-11-26 10:06Z)**_

我想如果是 node 是 24 的时候才触发 `Report Coverage`

---

_**Agent (model copilot/claude-opus-4.5)**_

<tool-use data-tool-type="unknown" data-tool-name="copilot_replaceString">
<details>
<summary>Tool use: **copilot_replaceString**</summary>

Additional data:

```json
{
  "vscodeToolId": "copilot_replaceString",
  "isHidden": true
}
```
Result:

```json
{
  "invocationMessage": "正在使用 \"替换文件中的字符串\"",
  "isConfirmed": {
    "type": 1
  },
  "content": "&#96;&#96;&#96;yaml\n      - name: Test\n        run: pnpm run test\n\n      - name: Report Coverage\n        if: always() &amp;&amp; matrix.node == 24\n        uses:  davelosert/vitest-coverage-report-action@v2\n&#96;&#96;&#96;\n\n",
  "textEditContent": "      - name: Test\n        run: pnpm run test\n\n      - name: Report Coverage\n        if: always() &amp;&amp; matrix.node == 24\n        uses:  davelosert/vitest-coverage-report-action@v2",
  "toolCallResult": null
}
```
Status: **completed**


</details>
</tool-use>

---

已更新 `Report Coverage` 步骤的条件，现在只有当 `matrix.node == 24` 时才会触发。`always()` 保留是为了确保即使之前的步骤失败，在 node 24 的情况下仍然会执行覆盖率报告。

---

